# System Patterns

## アーキテクチャパターン

### ディレクトリ構造

```
/app
  /components   # Reactコンポーネント
  /lib         # ユーティリティ関数とDB操作
  /models      # データモデルの型定義
  /routes      # APIルートとページコンポーネント
  /welcome     # ウェルカムページ関連
/prisma        # データベース関連
/tests         # テストファイル
```

### コンポーネント設計

- 機能ごとにディレクトリを分割
- コンポーネントの責務を明確に分離
  - TodoForm: 入力フォームとタスク作成ロジック
  - TodoList: タスク一覧の表示と管理
  - TodoItem: 個別タスクの表示と操作

### データフロー

1. ユーザーアクション
2. API エンドポイント呼び出し
3. データベース操作
4. 結果を UI に反映

### API エンドポイント設計

- RESTful 原則に従う
- エンドポイント構造:
  - GET /api/todos - タスク一覧取得
  - POST /api/todos - タスク作成
  - PUT /api/todos/:id - タスク更新
  - DELETE /api/todos/:id - タスク削除

## 主な技術的決定

### TypeScript 採用の理由

- 型安全性の確保
- 開発時のエラー検出
- コード補完による生産性向上

### Prisma の採用

- 型安全なデータベース操作
- マイグレーション管理の容易さ
- クエリビルダーの使いやすさ

### テスト戦略

- ユニットテスト: コンポーネントの個別機能
- E2E テスト: ユーザーフローの検証

### Docker 採用の理由

- 開発環境の一貫性
- 依存関係の管理
- デプロイメントの簡素化
