# ToDo の詳細画面の作成

## 1. 概要

ToDo アイテムの詳細情報を表示する画面を作成します。この画面では、ToDo のタイトル、作成日時、完了状態、完了日時などの詳細情報を確認でき、ステータスの変更も可能です。

## 2. 要件整理

### 機能要件

1. ToDo の詳細画面の表示
   - タイトル
   - 作成日時
   - 完了状態
   - 完了日時（完了している場合）
2. ステータス変更機能
   - 完了/未完了の切り替えボタン
3. 一覧画面への戻るリンク

### 技術要件

- 追加技術: なし（既存の技術スタックで実装可能）

## 3. 影響範囲

### システム影響

- 影響コンポーネント:
  - 新規: TodoDetail コンポーネント
  - 既存: TodoItem コンポーネント（詳細画面へのリンク追加）
- 依存関係の変更: なし

## 4. 変更対象

### ソースコード

- `app/routes/todos.$id.tsx`: 新規作成（詳細画面のルート）
- `app/components/todo/TodoDetail.tsx`: 新規作成（詳細表示コンポーネント）
- `app/components/todo/TodoItem.tsx`: 修正（詳細画面へのリンク追加）
- `app/lib/todo.ts`: 修正（getTodoById 関数の追加）

## 5. タスク分解

### 1. バックエンド実装

1. getTodoById 関数の実装
2. 詳細取得 API エンドポイントの実装

### 2. フロントエンド実装

1. TodoDetail コンポーネントの作成
2. 詳細画面ルートの実装
3. TodoItem コンポーネントに詳細リンクを追加

### 3. テスト実装

1. TodoDetail コンポーネントのユニットテスト
2. E2E テストの追加

## 6. 実装方針

### 基本方針

1. Remix のダイナミックルーティングを利用して詳細画面を実装
2. 既存の API エンドポイントを活用してステータス更新機能を実装
3. コンポーネントの再利用を考慮した設計

### 技術的注意点

- パフォーマンス
  - 詳細データの取得は必要最小限に抑える
  - 不要な再レンダリングを防ぐ
- セキュリティ
  - URL パラメータのバリデーション
  - 存在しない ToDo へのアクセス処理
- エラーハンドリング
  - データ取得失敗時の適切なエラー表示
  - 無効な ID への対応

### 実装ステップ

1. バックエンド

   - getTodoById 関数の実装
   - ルートローダーの実装

2. フロントエンド

   - TodoDetail コンポーネントの作成
   - スタイリングの実装
   - エラー状態の実装

3. テスト
   - ユニットテストの実装
   - E2E テストの実装

## 7. 関連リンク
